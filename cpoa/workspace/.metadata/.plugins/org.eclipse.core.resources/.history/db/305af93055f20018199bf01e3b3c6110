package simbad.gui;

import java.awt.Font;
import java.awt.LayoutManager;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.BorderFactory;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JPanel;

import simbad.sim.SimpleAgent;
import simbad.sim.Simulator;
import simbad.sim.World;

public class AgentControlGUI extends JPanel implements ActionListener
{
	private JButton left;
	private JButton right;
	
	private AgentFollower robotFollower;
	private World world;
	private Font smallFont;

	public AgentControlGUI()
	{
		
	}
	
	public AgentControlGUI(World world, Simulator simulator)
	{
		this.left  = new JButton("left" );
		this.right = new JButton("right");
		
		setLayout(new BoxLayout(this, BoxLayout.X_AXIS));
        
        // View Buttons
        JPanel panel1 = new JPanel();
        panel1.setLayout(new BoxLayout(panel1, BoxLayout.Y_AXIS));
        panel1.setBorder(BorderFactory.createCompoundBorder(
                BorderFactory.createTitledBorder("Agent direction:"),
                BorderFactory.createEmptyBorder()));
        JPanel panel1_1 = new JPanel();
        panel1_1.setLayout(new BoxLayout(panel1_1, BoxLayout.X_AXIS));

        panel1.add(panel1_1);
             
        JPanel panel2 = new JPanel();
        panel2.setLayout(new BoxLayout(panel2, BoxLayout.Y_AXIS));
        panel2.setBorder(BorderFactory.createCompoundBorder(
                BorderFactory.createTitledBorder("Follow:"),
                BorderFactory.createEmptyBorder()));
        JPanel panel2_1 = new JPanel();
        panel2_1.setLayout(new BoxLayout(panel2_1, BoxLayout.X_AXIS));

        panel2.add(panel2_1);
        add(panel1);
        add(panel2);
		
		/*b.setFont(smallFont);
	        b.setActionCommand(action);
	        b.addActionListener(this);
	        container.add(b);*/
		
		this.left.addActionListener(this);
		this.right.addActionListener(this);
		
        this.world = world;
        this.smallFont = new Font("Arial",Font.PLAIN,11);
        //createGUI();
        this.robotFollower = new AgentFollower(world, (SimpleAgent) simulator.getAgentList().get(0));
    }
	
	/*void createGUI()
	{
	        setLayout(new BoxLayout(this, BoxLayout.X_AXIS));
	        
	        // View Buttons
	        JPanel panel1 = new JPanel();
	        panel1.setLayout(new BoxLayout(panel1, BoxLayout.Y_AXIS));
	        panel1.setBorder(BorderFactory.createCompoundBorder(
	                BorderFactory.createTitledBorder("View From:"),
	                BorderFactory.createEmptyBorder()));
	        JPanel panel1_1 = new JPanel();
	        panel1_1.setLayout(new BoxLayout(panel1_1, BoxLayout.X_AXIS));
	        createButton(panel1_1, "top", "topview");
	        createButton(panel1_1, "side", "eastview");
	        panel1.add(panel1_1);
	             
	        JPanel panel2 = new JPanel();
	        panel2.setLayout(new BoxLayout(panel2, BoxLayout.Y_AXIS));
	        panel2.setBorder(BorderFactory.createCompoundBorder(
	                BorderFactory.createTitledBorder("Follow:"),
	                BorderFactory.createEmptyBorder()));
	        JPanel panel2_1 = new JPanel();
	        panel2_1.setLayout(new BoxLayout(panel2_1, BoxLayout.X_AXIS));
	        createButton(panel2_1, "far", "followfar");
	        createButton(panel2_1, "near", "follownear");
	        createButton(panel2_1, "side", "followside");
	        panel2.add(panel2_1);
	        add(panel1);
	        add(panel2);
	        
	    }*/

	public AgentControlGUI(boolean arg0)
	{
		super(arg0);
		// TODO Auto-generated constructor stub
	}

	public AgentControlGUI(LayoutManager arg0, boolean arg1)
	{
		super(arg0, arg1);
		// TODO Auto-generated constructor stub
	}

	@Override
	public void actionPerformed(ActionEvent evt)
	{
		if(evt.getSource() == left) System.out.println("left");
		else if(evt.getSource() == right) System.out.println("right");
		
	}

}
